<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุจุฑูุงูุฌ ุชูุฒูุน ุญุฑุงุณุฉ ุงูุงูุชุญุงูุงุช</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='chart.min.js') }}"></script>
</head>
<body>

    <div style="position: absolute; top: 35px; right: 250px; z-index: 10;">
        <img src="{{ url_for('static', filename='chy_logo.png') }}" alt="CHY Logo" style="height: 50px;">
    </div>
    
    <main>
        <header class="app-header">
            <div class="header-buttons">
                <button id="about-button" class="header-btn">ุนู ุงูุจุฑูุงูุฌ</button>
                <button id="help-button" class="header-btn">ุงููุณุงุนุฏุฉ</button>
                <button id="shutdown-server-btn" class="header-btn" style="background-color: #c82333;">ุฅููุงู ุงูุฎุงุฏู</button>
            </div>
            <h1>ุจุฑูุงูุฌ ุชูุฒูุน ุญุฑุงุณุฉ ุงูุงูุชุญุงูุงุช</h1>
        </header>
        
        <section id="data-entry">
            <h2>ุงููุฑุญูุฉ 1: ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ (ูุฏููุงู)</h2>
            <div class="form-container">
                <form id="add-professors-form" class="data-form">
                    <h3>ุฅุถุงูุฉ ุฃุณุงุชุฐุฉ</h3>
                    <textarea id="professor-names" rows="5" placeholder="ุงูุชุจ ุฃุณูุงุก ุงูุฃุณุงุชุฐุฉ (ูู ุงุณู ูู ุณุทุฑ)"></textarea>
                    <button type="submit">ุฅุถุงูุฉ</button>
                </form>
                <form id="add-halls-form" class="data-form">
                    <h3>ุฅุถุงูุฉ ูุงุนุงุช</h3>
                    <select id="hall-type-bulk" required>
                        <option value="ุตุบูุฑุฉ" selected>ูุงุนุฉ ุตุบูุฑุฉ</option>
                        <option value="ูุชูุณุทุฉ">ูุงุนุฉ ูุชูุณุทุฉ</option>
                        <option value="ูุจูุฑุฉ">ูุงุนุฉ ูุจูุฑุฉ</option>
                    </select>
                    <textarea id="hall-names" rows="4" placeholder="ุงูุชุจ ุฃุณูุงุก ุงููุงุนุงุช (ูู ุงุณู ูู ุณุทุฑ)"></textarea>
                    <button type="submit">ุฅุถุงูุฉ</button>
                </form>
                <form id="add-levels-form" class="data-form">
                    <h3>ุฅุถุงูุฉ ูุณุชููุงุช ุฏุฑุงุณูุฉ</h3>
                    <textarea id="level-names" rows="5" placeholder="ุงูุชุจ ุฃุณูุงุก ุงููุณุชููุงุช (ูู ุงุณู ูู ุณุทุฑ)"></textarea>
                    <button type="submit">ุฅุถุงูุฉ</button>
                </form>
                <form id="add-subjects-form" class="data-form">
                    <h3>ุฅุถุงูุฉ ููุงุฏ ุฏุฑุงุณูุฉ</h3>
                    <select id="subject-level-bulk" required>
                        <option value="" disabled selected>ุงุฎุชุฑ ุงููุณุชูู ุงูุฏุฑุงุณู</option>
                    </select>
                    <textarea id="subject-names-bulk" rows="4" placeholder="ุงูุชุจ ุฃุณูุงุก ุงูููุงุฏ (ูู ูุงุฏุฉ ูู ุณุทุฑ)"></textarea>
                    <button type="submit">ุฅุถุงูุฉ ุงูููุงุฏ</button>
                </form>
            </div>
        </section>
        
        <section id="data-import-export-section">
            <h2> ุฃู ุจุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุงูุฃูููุฉ (ุนุจุฑ ููู)</h2>
            <div class="setting-block">
                 <p class="description">ุงุณุชุฎุฏู ูุฐู ุงูุฃุฒุฑุงุฑ ูุชุญููู ูุงูุจ ุฅูุณู ูุงุฑุบ (ููุนุฑูุฉ ููุฆุฉ ุงูููู ุงููุทููุจุฉ)ุ ุฃู ูุงุณุชูุฑุงุฏ ุจูุงูุงุช (ุงูุฃุณุงุชุฐุฉุ ุงููุงุนุงุชุ ุงูููุงุฏุ ุงููุณุชููุงุช) ูู ููู ุฅูุณู ูููุก ุงูุจุฑูุงูุฌ ุจุณุฑุนุฉ.</p>
                <div class="final-buttons-container">
                    <button id="export-template-btn" class="action-button template-btn">๐ ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงูุญุงููุฉ (Excel)</button>
                    <button id="import-data-btn" class="action-button import-btn">๐ฅ ุงุณุชูุฑุงุฏ ุจูุงูุงุช ูู ููู</button>
                </div>
                <input type="file" id="import-file-input" style="display: none;" accept=".xlsx">
            </div>
        </section>

        <section id="data-management">
            <h2>ุงููุฑุญูุฉ 2: ุนุฑุถ ูุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ</h2>
            <div class="management-container">
                <div class="panel">
                    <h4>ุงูุฃุณุงุชุฐุฉ</h4>
                    <ul id="manage-professors-list" class="management-list"></ul>
                </div>
                <div class="panel">
                    <h4>ุงููุงุนุงุช</h4>
                    <ul id="manage-halls-list" class="management-list"></ul>
                </div>
                <div class="panel">
                    <h4>ุงููุณุชููุงุช</h4>
                    <ul id="manage-levels-list" class="management-list"></ul>
                </div>
                <div class="panel">
                    <h4>ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ</h4>
                    <ul id="manage-subjects-list" class="management-list"></ul>
                </div>
            </div>
        </section>

        <section id="settings-entry">
            <h2>ุงููุฑุญูุฉ 3: ุฅุนุฏุงุฏ ูููุฏ ุงูุญุฑุงุณุฉ</h2>
            <div class="setting-block">
                <h3>ุฃ) ุฑุจุท ุงูุฃุณุชุงุฐ ุจุงูููุงุฏ ุงูุชู ูุฏุฑุณูุง</h3>
                <p class="description">ุงุฎุชุฑ ุฃุณุชุงุฐุงูุ ุซู ุงุฎุชุฑ ูุงุฏุฉ ุฃู ุฃูุซุฑ (ุนุจุฑ ุงูููุฑ ุงููุชุชุงูู)ุ ุซู ุงุถุบุท ุนูู ุฒุฑ ุงูุชุฎุตูุต. ูุฅูุบุงุก ุฅุณูุงุฏุ ุงููุฑ ุนูู ุงููุงุฏุฉ ุงููุณูุฏุฉ.</p>
                <div class="assignment-container">
                    <div class="panel">
                        <h4>ุงูุฃุณุงุชุฐุฉ</h4>
                        <input type="text" id="professor-search-assign" class="panel-search" placeholder="ุงุจุญุซ ุนู ุฃุณุชุงุฐ...">
                        <ul id="professors-list-assign"></ul>
                    </div>
                    <div class="panel">
                        <h4>ุงูููุงุฏ</h4>
                        <input type="text" id="subject-search-assign" class="panel-search" placeholder="ุงุจุญุซ ุนู ูุงุฏุฉ...">
                        <ul id="subjects-list-assign"></ul>
                    </div>
                </div>
                <button id="assign-subjects-button" disabled>ุชุฎุตูุต ุงูููุงุฏ ููุฃุณุชุงุฐ</button>
            </div>
            <div class="setting-block">
                <h3>ุจ) ุชุญุฏูุฏ ูุงุนุงุช ุงูุงูุชุญุงูุงุช ููู ูุณุชูู</h3>
                <p class="description">ููู ูุณุชูู ุฏุฑุงุณูุ ุญุฏุฏ ุงููุงุนุงุช ุงูุชู ุณูุชู ูููุง ุฅุฌุฑุงุก ุงูุงูุชุญุงูุงุช.</p>
                <div id="level-halls-assignment-container"></div>
            </div>
            <div class="setting-block">
                <h3>ุฌ) ุชุญุฏูุฏ ููุท ุญุฑุงุณุฉ ูู ุฃุณุชุงุฐ</h3>
                 <p class="description">ููู ุฃุณุชุงุฐุ ุญุฏุฏ ููุท ุฃูุงู ุญุฑุงุณุชู (ูุชุชุงููุฉ ุฃู ูููุตูุฉ).</p>
                <div id="professors-duty-pattern-container"></div>
            </div>
            <div class="setting-block">
                <h3>ุฏ) ุชุญุฏูุฏ ุงูุฃูุงู ุบูุฑ ุงููุชุงุญุฉ ููุฃุณุงุชุฐุฉ</h3>
                 <p class="description">ููู ุฃุณุชุงุฐุ ููููู ุชุญุฏูุฏ ููู ุฃู ุฃูุซุฑ ูููู ููู ุบูุฑ ูุชุงุญ ููุญุฑุงุณุฉ. ุชุฃูุฏ ูู ุชุญุฏูุฏ ุฃูุงู ุงูุงูุชุญุงูุงุช ูู ุงููุฑุญูุฉ ุงูุชุงููุฉ ุฃููุงู.</p>
                <div id="professors-unavailability-container"></div>
            </div>
        </section>
        
        <div class="settings-section" style="margin-top: 20px; border-top: 1px solid #ddd; padding-top: 20px;">
    
    <h3>ูู) ุงุดุชุฑุงู ุงูุฃุณุงุชุฐุฉ (ููุนูู ูู ููุณ ุงูุฃูุงู)</h3>
    <p class="settings-description" style="font-size: 0.9em; color: #666;">
        ุญุฏุฏ ุงุดุชุฑุงูุงุช ุงูุฃุณุงุชุฐุฉ ุงูุฐูู ูุฌุจ ุฃู ุชููู ุฃูุงู ุญุฑุงุณุชูู ูุชุทุงุจูุฉ ุชูุงูุงู.
    </p>

    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;" id="add-pair-form">
        <label for="prof-select-1">ุงูุฃุณุชุงุฐ 1:</label>
        <select id="prof-select-1" class="form-control"></select>

        <label for="prof-select-2">ุงูุฃุณุชุงุฐ 2:</label>
        <select id="prof-select-2" class="form-control"></select>

        <button id="add-pair-btn" class="btn btn-primary">ุฅุถุงูุฉ ูุดุชุฑููู</button>
    </div>

    <h4>ุงููุดุชุฑููู ุงูุญุงูููู:</h4>
    <ul id="prof-pairs-list" class="list-group">
        </ul>
    <p id="no-pairs-msg" class="text-muted" style="display: none;">ูุง ุชูุฌุฏ ุงุดุชุฑุงูุงุช ูุญุฏุฏุฉ ุญุงููุงู.</p>
</div>

        <section id="exam-schedule-setup">
            <h2>ุงููุฑุญูุฉ 4: ุฅุนุฏุงุฏ ุฌุฏูู ุงูุงูุชุญุงูุงุช</h2>
            <div class="setting-block">
                <h3>ุฃ) ุชุญุฏูุฏ ุฃูุงู ูุชูููุช ุงูุงูุชุญุงูุงุช</h3>
                <p class="description">ุฃุถู ุฃูุงู ุงูุงูุชุญุงูุงุชุ ุซู ุญุฏุฏ ุงููุชุฑุงุช ุงูุฒูููุฉ ููู ููู ูุงููุณุชููุงุช ุงูุชู ุณุชููุชุญู ูู ูู ูุชุฑุฉ. ููููู ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุงููุชุฑุฉ "ุฃุณุงุณูุฉ" ุฃู "ุงุญุชูุงุทูุฉ" ููููุงุฏ ุงููุชุจููุฉ.</p>
                <div id="exam-days-container"></div>
                <button id="add-exam-day-button" class="action-button">+ ุฅุถุงูุฉ ููู ุงูุชุญุงู</button>
            </div>
        </section>

        <section id="generation-and-results">
            <h2>ุงููุฑุญูุฉ 5: ุฅูุดุงุก ูุชุตุฏูุฑ ุงูุฌุฏุงูู</h2>
            <div class="setting-block">
                <h3>ุชุดุบูู ุงูุฎูุงุฑุฒููุฉ ูุญูุธ ุงูุฅุนุฏุงุฏุงุช</h3>
                <p class="description">ุจุนุฏ ุงูุชุฃูุฏ ูู ูู ุงูุฅุนุฏุงุฏุงุชุ ููููู ุญูุธูุง ูุงุณุชุฎุฏุงููุง ูุงุญูุงูุ ุฃู ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅูุดุงุก ูุจุฏุก ุนูููุฉ ุชูุฒูุน ุงูุญุฑุงุณุฉ (ุณูุชู ุงูุญูุธ ุชููุงุฆูุงู ุฃูุถุงู).</p>
                
                <div class="extra-settings" style="margin-top: 20px; padding: 15px; background-color: #e9eef7; border-radius: 5px;">
                    <h4 style="margin-top: 0; margin-bottom: 10px;">ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ ููุฎูุงุฑุฒููุฉ</h4>
                    <label style="cursor: pointer; font-size: 16px; display: block; margin-bottom: 10px;">
                        <input type="checkbox" id="assign-owner-as-guard-checkbox" style="vertical-align: middle; margin-left: 8px;">
                        **ุฅูุฒุงูู**: ุชุนููู ุฃุณุชุงุฐ ุงููุงุฏุฉ ูุญุฑุงุณุฉ ุขุฎุฑ ูุงุฏุฉ ูู ูู ุงูุฌุฏูู
                    </label>
                    <hr>
                    <h5 style="margin-bottom: 10px;">ุชุญุฏูุฏ ุณูู ุฃุนูู ูุนุฏุฏ ุญุตุต ุงูุญุฑุงุณุฉ ููู ุฃุณุชุงุฐ:</h5>
                    <div class="max-shifts-options">
                        <label><input type="radio" name="max-shifts-limit" value="4"> 4 ุญุตุต</label>
                        <label><input type="radio" name="max-shifts-limit" value="5"> 5 ุญุตุต</label>
                        <label><input type="radio" name="max-shifts-limit" value="6"> 6 ุญุตุต</label>
                        <label><input type="radio" name="max-shifts-limit" value="0" checked> ุจุฏูู ุณูู (ูุทูู)</label>
                    </div>
                    <hr>
                     <h5 style="margin-bottom: 10px;">ุงูุญุฏ ุงูุงูุตู ููุญุฑุงุณุฉ ูู ุงููุงุนุฉ ุงููุจูุฑุฉ:</h5>
                    <div class="max-shifts-options">
                        <label><input type="radio" name="max-large-hall-shifts" value="1"> ูุฑุฉ ูุงุญุฏุฉ</label>
                        <label><input type="radio" name="max-large-hall-shifts" value="2" checked> ูุฑุชุงู</label>
                        <label><input type="radio" name="max-large-hall-shifts" value="3"> 3 ูุฑุงุช</label>
                        <label><input type="radio" name="max-large-hall-shifts" value="4"> 4 ูุฑุงุช</label>
                        <label><input type="radio" name="max-large-hall-shifts" value="0"> ุจุฏูู ุญุฏ</label>
                    </div>
                    <hr>
                    <h5 style="margin-bottom: 10px;">ูุนุงููุฑ ููุงุฒูุฉ ุงูุฌูุฏ (Workload):</h5>
                    <div class="workload-settings">
                        <label>
                            ููุงุท ุนุจุก ุงููุงุนุฉ ุงููุจูุฑุฉ:
                            <input type="number" id="large-hall-weight" value="3" min="1" max="10" step="0.5" class="small-input">
                        </label>
                        <label>
                            ููุงุท ุนุจุก ุงููุงุนุงุช ุงูุฃุฎุฑู:
                            <input type="number" id="other-hall-weight" value="1" min="1" max="10" step="0.5" class="small-input">
                        </label>
                    </div>
                    <hr>
                    <h5 style="margin-bottom: 10px;">ุนุฏุฏ ุงูุญุฑุงุณ ุงููุทููุจ ููู ููุน ูุงุนุฉ:</h5>
                    <div class="workload-settings">
                        <label for="guards-large-hall">ุงููุงุนุฉ ุงููุจูุฑุฉ:</label>
                        <input type="number" id="guards-large-hall" value="4" min="1" class="small-input">
                    
                    <label for="guards-medium-hall">ุงููุงุนุฉ ุงููุชูุณุทุฉ:</label>
                        <input type="number" id="guards-medium-hall" value="2" min="1" class="small-input">
                    
                    <label for="guards-small-hall">ุงููุงุนุฉ ุงูุตุบูุฑุฉ:</label>
                        <input type="number" id="guards-small-hall" value="1" min="1" class="small-input">
                    
                    </div>
                    <hr>
                    <div id="intensive-search-container">
                        <label style="cursor: pointer; font-size: 16px; display: block; margin-bottom: 10px;">
                            <input type="checkbox" id="intensive-search-checkbox" style="vertical-align: middle; margin-left: 8px;" checked>
                            ุชูุนูู ุงูุจุญุซ ุงูููุซู (ุฃุจุทุฃุ ููู ูุนุทู ุฃูุถู ุงููุชุงุฆุฌ)
                        </label>
                        <label style="font-size: 16px; display: block; margin-top: 10px; margin-right: 25px;">
                            ุนุฏุฏ ูุญุงููุงุช ุงูุจุญุซ:
                            <input type="number" id="iterations-count" value="200" min="10" max="1000" step="10" class="inline-input">
                        </label>
                    </div>
                     <hr>
                     <label style="cursor: pointer; font-size: 16px; display: block; margin-bottom: 10px; background-color: #e3f2fd; padding: 10px; border-radius: 5px; border: 1px solid #90caf9;">
                        <input type="checkbox" id="group-subjects-checkbox" style="vertical-align: middle; margin-left: 8px;" checked>
                        <strong>ุชูุนูู ุงููุฑุญูุฉ 1.5:</strong> ูุญุงููุฉ ุชุฌููุน ููุงุฏ ุงูุฃุณุชุงุฐ ุงููุงุญุฏ ูู ุฃูู ุนุฏุฏ ูู ุงูุฃูุงู
                    </label>
                    <hr>
                    <div class="setting-group">
    <h5 style="margin-bottom: 10px; margin-top:10px;">ููุน ุชูุฒูุน ุงูููุงุฏ ูุงูุญุฑุงุณุฉ ูู ุขุฎุฑ ููู ุงูุงูุชุญุงูุงุช:</h5>
    <div class="max-shifts-options">
        <label><input type="radio" name="last_day_restriction" value="none" checked> ูุง ููุฌุฏ ุชูููุฏ</label>
        <label><input type="radio" name="last_day_restriction" value="last_1"> ููุน ุงูููุงุฏ ูุงูุญุฑุงุณุฉ ูู ุขุฎุฑ ุญุตุฉ</label>
        <label><input type="radio" name="last_day_restriction" value="last_2"> ููุน ุงูููุงุฏ ูุงูุญุฑุงุณุฉ ูู ุขุฎุฑ ุญุตุชูู</label>
        <label><input type="radio" name="last_day_restriction" value="last_3"> ููุน ุงูููุงุฏ ูุงูุญุฑุงุณุฉ ูู ุขุฎุฑ 3 ุญุตุต</label>
    </div>
</div>
                    <hr>
                    
                    <div class="setting-group" style="padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                        <h5 style="margin-top:0; margin-bottom: 10px;">ุงุณุชุฑุงุชูุฌูุฉ ุงูููุงุฒูุฉ ูุงูุชูุฒูุน:</h5>
                        <div id="balancing-strategy-options-container">

                            <label style="background-color: #e0f2f1; border-color: #b2dfdb;">
                                <input type="radio" name="balancing_strategy" value="lns">
                                <strong>ุงูุจุญุซ ุงูุฌูุงุฑู ุงููุงุณุน (LNS)</strong>
                                <span class="strategy-description">ุฎูุงุฑุฒููุฉ ูุนุงูุฉ ุชููู ุจู "ุชุฏููุฑ" ุฌุฒุก ุนุดูุงุฆู ูู ุงูุญู ู "ุฅุตูุงุญู" ุจุดูู ูุชูุฑุฑ ูููุตูู ุฅูู ุญููู ุฃูุถู.</span>
                            </label>
                            <div id="lns-params-label" class="strategy-params">
                                <label>ุนุฏุฏ ุงูุฏูุฑุงุช: <input type="number" id="lns-iterations" value="100" step="10" min="10" class="inline-input"></label>
                                <label>ูุณุจุฉ ุงูุชุฏููุฑ (0.1 - 0.5): <input type="number" id="lns-destroy-fraction" value="0.2" step="0.05" min="0.1" max="0.5" class="inline-input"></label>
                            </div>

                            <label style="background-color: #ede7f6; border-color: #d1c4e9;">
                                <input type="radio" name="balancing_strategy" value="vns">
                                <strong>ุงูุจุญุซ ุงูุฌูุงุฑู ุงููุชุบูุฑ (VNS)</strong>
                                <span class="strategy-description">ูุณุชูุดู ุจุดูู ูููุฌู "ุฌูุงุฑุงุช" ูุฎุชููุฉ (ุนุจุฑ ุงููุฒ ุงูุนุดูุงุฆู) ูููุฑูุจ ูู ุงูุญููู ุงููุญููุฉ.</span>
                            </label>
                            <div id="vns-params-label" class="strategy-params">
                                <label>ุนุฏุฏ ุงูุฏูุฑุงุช ุงูุฑุฆูุณูุฉ: <input type="number" id="vns-iterations" value="100" step="10" min="10" class="inline-input"></label>
                                <label>ุฃูุตู ุญุฌู ููุฌูุงุฑ (k): <input type="number" id="vns-max-k" value="10" step="1" min="2" class="inline-input"></label>
                            </div>

                            <label style="background-color: #f3e5f5; border-color: #e1bee7;">
                                <input type="radio" name="balancing_strategy" value="genetic">
                                <strong>ุฎูุงุฑุฒููุฉ ุงูุฌููุงุช (ูุชูุฏู ุฌุฏุงู)</strong>
                                <span class="strategy-description">ุชุณุชุฎุฏู ูุจุงุฏุฆ ุงูุชุทูุฑ ุงูุทุจูุนู ูุชุทููุฑ "ูุฌุชูุน" ูู ุงูุญููู ูููุตูู ููุญู ุงูุฃูุซู.</span>
                            </label>
                            <div id="genetic-params-label" class="strategy-params">
                                <label>ุญุฌู ุงููุฌุชูุน: <input type="number" id="genetic-population" value="100" step="10" class="inline-input"></label>
                                <label>ุนุฏุฏ ุงูุฃุฌูุงู: <input type="number" id="genetic-generations" value="50" step="10" class="inline-input"></label>
                                <label>ุนุฏุฏ ุงููุฎุจุฉ: <input type="number" id="genetic-elitism" value="4" step="1" min="0" max="20" class="inline-input"></label>
                                <label>ูุนุฏู ุงูุทูุฑุฉ: <input type="number" id="genetic-mutation" value="0.05" step="0.01" min="0" max="1" class="inline-input"></label>
                            </div>

                            <label style="background-color: #e8eaf6; border-color: #c5cae9;">
                                <input type="radio" name="balancing_strategy" value="constraint_solver">
                                <strong>ุงูุจุฑูุฌุฉ ุจุงููููุฏ (ุงูุญู ุงูุฃูุซู)</strong>
                                <span class="strategy-description">ูุณุชุฎุฏู ููุญูููุง ุฑูุงุถููุง ูุฅูุฌุงุฏ ุฃูุถู ุชูุงุฒู ูููู. ูุฏ ูููู ุจุทูุฆูุง.</span>
                            </label>
                            <label id="solver-timelimit-label" class="strategy-params">
                                ุงูุญุฏ ุงูุฃูุตู ูููุช ุงูุจุญุซ (ุจุงูุซูุงูู):
                                <input type="number" id="solver-timelimit" value="30" min="5" max="300" step="5" class="inline-input">
                            </label>

                            <label style="background-color: #fce8e6; border-color: #f5c6cb;">
                                <input type="radio" name="balancing_strategy" value="annealing">
                                <strong>ุงูุชูุฏูู ุงููุญุงูู (ุชุฌุฑูุจู)</strong>
                                <span class="strategy-description">ุฎูุงุฑุฒููุฉ ูุชูุฏูุฉ ูุงุณุชูุดุงู ุงูุญููู ุจุฐูุงุกุ ูุฏ ุชููู ุจุทูุฆุฉ ููููุง ุงูุฃููู.</span>
                            </label>
                            <div id="annealing-params-label" class="strategy-params">
                                <label>ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงูุฃูููุฉ: <input type="number" id="annealing-temp" value="1000" class="inline-input"></label>
                                <label>ูุนุฏู ุงูุชุจุฑูุฏ: <input type="number" id="annealing-cooling" value="0.995" step="0.001" min="0.8" max="0.999" class="inline-input"></label>
                                <label>ุนุฏุฏ ุงููุญุงููุงุช: <input type="number" id="annealing-iterations" value="1000" step="100" class="inline-input"></label>
                            </div>

                            <label style="background-color: #e3f2fd; border-color: #90caf9;">
                                <input type="radio" name="balancing_strategy" value="tabu_search">
                                <strong>ุงูุจุญุซ ุงููุญุธูุฑ (ุชุฌุฑูุจู)</strong>
                                <span class="strategy-description">ุจุญุซ ูุชูุฏู ูุน ุฐุงูุฑุฉ ูุตูุฑุฉ ุงููุฏู (Tabu List) ูุชุฌูุจ ุงูุญููู ุงูููุฑุฑุฉ ูุงููุตูู ููุชุงุฆุฌ ุฃูุถู.</span>
                            </label>
                            <div id="tabu-params-label" class="strategy-params">
                                <label>ุนุฏุฏ ุฏูุฑุงุช ุงูุจุญุซ: <input type="number" id="tabu-iterations" value="100" step="10" class="inline-input"></label>
                                <label>ุญุฌู ูุงุฆูุฉ ุงููุญุธูุฑุงุช: <input type="number" id="tabu-tenure" value="15" step="1" min="1" class="inline-input"></label>
                                <label>ุญุฌู ุงูุฌูุงุฑ (ุนุฏุฏ ุงูุชุจุฏููุงุช ุงูููุชุฑุญุฉ ูู ูู ุฏูุฑุฉ): <input type="number" id="tabu-neighborhood-size" value="50" step="5" class="inline-input"></label>
                            </div>

                            <label style="background-color: #d4edda; border-color: #c3e6cb;">
                                <input type="radio" name="balancing_strategy" value="advanced" checked>
                                <strong>ุงูุชูุงุฒู ุงููุชูุฏู</strong>
                            </label>
                            <label id="swap-attempts-label" class="strategy-params">
                                ุนุฏุฏ ูุญุงููุงุช ุงูุชุจุฏูู:
                                <input type="number" id="swap-attempts-count" value="50" min="10" max="500" step="10" class="inline-input">
                            </label>

                            <label style="background-color: #d1e7fd; border-color: #b8daff;">
                                <input type="radio" name="balancing_strategy" value="phased_polished">
                                <strong>ุงูุชูุฒูุน ุงููุฑุญูู (ูุน ุตูู)</strong>
                            </label>
                            <label id="polishing-swaps-label" class="strategy-params">
                                ุนุฏุฏ ูุญุงููุงุช ุงูุตูู:
                                <input type="number" id="polishing-swaps-count" value="15" min="0" max="100" step="5" class="inline-input">
                            </label>

                            <label style="background-color: #ffeeba; border-color: #ffdf7e;">
                                <input type="radio" name="balancing_strategy" value="phased">
                                <strong>ุงูุชูุฒูุน ุงููุฑุญูู (ุงูุนุดูุงุฆู ููุท)</strong>
                            </label>

                            <label style="background-color: #f8f9fa; border-color: #ddd;">
                                <input type="radio" name="balancing_strategy" value="standard">
                                <strong>ุงูุชูุฒูุน ุงูุนุงุฏู</strong>
                            </label>
                        </div>
                    </div>
                    ```
                    
                    <hr>
                    <div id="fair-distribution-calculator" class="setting-block">
                        <h3>ุฃุฏุงุฉ ุญุณุงุจ ุงูุชูุฒูุน ุงูุนุงุฏู (ููุชุฎุทูุท)</h3>
                        <p class="description">
                            ุงุณุชุฎุฏู ูุฐู ุงูุฃุฏุงุฉ ุงูุณุฑูุนุฉ ูุนูู ูุญุงูุงุฉ ููุนุฑูุฉ ููู ุณูุจุฏู ุงูุชูุฒูุน ุงูุนุงุฏู ููุญุตุต ุจูุงุกู ุนูู ูุฏุฎูุงุชู. ูุฐู ุงูุฃุฏุงุฉ ูููุณุงุนุฏุฉ ุนูู ุงูุชุฎุทูุท ููุท ููุง ุชุคุซุฑ ุนูู ุนูููุฉ ุงูุฅูุดุงุก ุงูููุงุฆูุฉ.
                        </p>
                        <div id="calculator-inputs">
                            <div class="calc-input-group">
                                <label for="calc-profs">ุฅุฌูุงูู ุงูุฃุณุงุชุฐุฉ</label>
                                <input id="calc-profs" type="number" required>
                            </div>
                            <div class="calc-input-group">
                                <label for="calc-large">ุฅุฌูุงูู ุญุฑุงุณุงุช (ูุจูุฑุฉ)</label>
                                <input id="calc-large" type="number" required>
                            </div>
                            <div class="calc-input-group">
                                <label for="calc-other">ุฅุฌูุงูู ุญุฑุงุณุงุช (ุฃุฎุฑู)</label>
                                <input id="calc-other" type="number" required>
                            </div>
                            <div class="calc-input-group">
                                <label for="calc-factor">ูุนุงูู ุงูุนุจุก</label>
                                <input id="calc-factor" type="number" value="2.0" step="0.5" required>
                            </div>
                            <div class="calc-buttons-group">
                                <button id="autofill-calculator-btn" class="action-button" title="ุญุณุงุจ ุงููุฏุฎูุงุช ุชููุงุฆูุงู ูู ุฅุนุฏุงุฏุงุช ุงููุฑุงุญู ุงูุณุงุจูุฉ">โ๏ธ ุญุณุงุจ ุชููุงุฆู</button>
                                <button id="run-calculator-btn" class="action-button">๐ ุงุญุณุจ ุงูุชูุฒูุน</button>
                            </div>
                        </div>
                        <div id="calculator-results" style="margin-top: 15px;">
                            </div>
                    </div>
                    <div class="custom-target-container">
                        <label style="cursor: pointer; font-size: 16px; display: block; margin-bottom: 10px; background-color: #d1e7fd; padding: 10px; border-radius: 5px; border: 1px solid #b8daff;">
                            <input type="checkbox" id="enable-custom-targets-checkbox" style="vertical-align: middle; margin-left: 8px;">
                            <strong>ุชุญุฏูุฏ ุฃููุงุท ุงูุชูุฒูุน ุงููุณุชูุฏูุฉ ูุฏููุงู</strong> (ูุชุฌุงูุฒ ุงูููุงุฒูุฉ ุงูุชููุงุฆูุฉ)
                        </label>

                        <div id="custom-targets-controls" class="hidden">
                            <p class="description">ุฃุฏุฎู ููุท ุงูุชูุฒูุน (ุนุฏุฏ ุงูุญุตุต ูู ุงููุงุนุฉ ุงููุจูุฑุฉ ูุงูุฃุฎุฑู) ูุนุฏุฏ ุงูุฃุณุงุชุฐุฉ ุงูุฐูู ุชุฑูุฏ ุชุทุจูู ูุฐุง ุงูููุท ุนููููุ ุซู ุงุถุบุท ุนูู ุฒุฑ ุงูุฅุถุงูุฉ (+).</p>
                            <div class="custom-target-inputs">
                                <input type="number" id="custom-target-large" placeholder="ุญุตุต ูุจูุฑุฉ" min="0">
                                <span>+</span>
                                <input type="number" id="custom-target-other" placeholder="ุญุตุต ุฃุฎุฑู" min="0">
                                <label for="custom-target-prof-count" style="margin: 0 5px;">ููู</label>
                                <input type="number" id="custom-target-prof-count" placeholder="ุนุฏุฏ ุงูุฃุณุงุชุฐุฉ" min="1">
                                <button type="button" id="add-custom-target-btn">+</button>
                            </div>
                            <table id="custom-targets-table">
                                <thead>
                                    <tr>
                                        <th>ุงูููุท</th>
                                        <th>ุนุฏุฏ ุงูุฃุณุงุชุฐุฉ</th>
                                        <th>ุญุฐู</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <p id="custom-target-prof-total" style="font-weight: bold; margin-top: 10px;"></p>
                        </div>
                    </div>
<div id="progress-bar-container" class="hidden" style="margin-bottom: 10px;">
    <span>ุงูุชูุฏู:</span>
    <div class="progress-bar-outer">
        <div id="progress-bar-inner">0%</div>
    </div>
</div>
<div id="live-log-container" class="hidden">
    <h4>ูุชุงุจุนุฉ ุณูุฑ ุงูุนูููุฉ ุงูุญูุฉ:</h4>
    <pre id="live-log-output"></pre>
</div>
<div id="live-log-container" class="hidden">
    <h4>ูุชุงุจุนุฉ ุณูุฑ ุงูุนูููุฉ ุงูุญูุฉ:</h4>
    <pre id="live-log-output"></pre>
</div>
                </div>

                <div class="final-buttons-container">
                    <button id="save-settings-button" class="action-button save-btn">๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
                    <button id="generate-schedule-button" class="action-button generate-btn">๐ ุฅูุดุงุก ุฌุฏูู ุงูุญุฑุงุณุฉ ุงูุขู</button>
                </div>
            </div>
            <div id="results-container" class="setting-block" style="display: none;">
                <div id="stats-dashboard-container" class="stats-dashboard-container" style="display: none;">
                    <h3>ููุญุฉ ุงููุนูููุงุช ุงูุฅุญุตุงุฆูุฉ</h3>
                    <div id="stats-dashboard" class="stats-dashboard">
                    </div>
                </div>
            </div>
        </section>

        <section id="backup-restore-section">
            <h2>ุงููุฑุญูุฉ 6: ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ</h2>
            <div class="setting-block">
                 <p class="description">ุงุณุชุฎุฏู ูุฐู ุงูุฃุฒุฑุงุฑ ูุญูุธ ูู ุจูุงูุงุช ุงูุจุฑูุงูุฌ (ุจูุง ูู ุฐูู ุงูุฅุนุฏุงุฏุงุช) ูู ููู ูุงุญุฏุ ุฃู ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช ูู ููู ูุณุฎุฉ ุงุญุชูุงุทูุฉ.</p>
                <div class="final-buttons-container">
                    <button id="backup-btn" class="action-button backup-btn">๐พ ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
                    <button id="restore-btn" class="action-button restore-btn">๐ ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
                </div>
                <input type="file" id="restore-file-input" style="display: none;" accept=".json">
                
                <div class="final-buttons-container" style="margin-top: 20px;">
                    <button id="reset-all-btn" class="action-button reset-btn">ูุณุญ ูู ุงูุจูุงูุงุช ูุงูุจุฏุก ูู ุฌุฏูุฏ</button>
                </div>
            </div>
        </section>

        <div id="notification-area"></div>

    </main>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>